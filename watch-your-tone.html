<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WATCH YOUR TONE | Bauhaus Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Fira+Mono&display=swap');
        
        :root {
            --bauhaus-red: #E63946;
            --bauhaus-blue: #1D3557;
            --bauhaus-yellow: #FFB703;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: #000000;
            overflow-x: hidden;
        }

        .mono {
            font-family: 'Fira Mono', monospace;
            font-size: 0.8rem;
        }

        .grid-border-b { border-bottom: 1px solid #000; }
        .grid-border-r { border-right: 1px solid #000; }
        .grid-border-t { border-top: 1px solid #000; }

        .palette-btn {
            transition: all 0.1s;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 700;
            border: 1px solid #000;
        }

        .palette-btn.active {
            background-color: #000;
            color: #fff;
        }

        .palette-btn:hover:not(.active) {
            background-color: #f3f4f6;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #fff; }
        ::-webkit-scrollbar-thumb { background: #000; }

        .copy-toast {
            visibility: hidden;
            background-color: #000;
            color: #fff;
            padding: 12px 24px;
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 900;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            z-index: 1000;
            border: 1px solid #fff;
        }

        .copy-toast.show { visibility: visible; }

        .olog-box {
            background: #fff;
            padding: 1.5rem;
            border: 1px solid #000;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="grid-border-b px-8 py-10 flex flex-col md:flex-row justify-between items-end gap-6">
        <div>
            <h1 class="text-6xl font-black tracking-tighter uppercase leading-none">WATCH YOUR TONE</h1>
            <p class="text-[10px] font-black tracking-[0.4em] uppercase mt-4 text-gray-500">Prompt Politeness vs LLM Accuracy (arXiv:2510.04950)</p>
        </div>
        <nav class="flex space-x-12 text-[10px] font-black uppercase tracking-[0.3em]">
            <button onclick="switchTab('library')" id="nav-library" class="border-b-4 border-black pb-1">Prompt Palette</button>
            <button onclick="switchTab('research')" id="nav-research" class="text-gray-300 hover:text-black transition-colors pb-1">Full Rundown</button>
        </nav>
    </header>

    <main class="flex-grow flex flex-col md:flex-row overflow-hidden">
        
        <!-- Tab: Library -->
        <div id="view-library" class="flex-grow flex flex-col md:flex-row w-full">
            <aside class="w-full md:w-80 grid-border-r p-8 flex flex-col gap-3 bg-[#fafafa]">
                <h2 class="text-[10px] font-black uppercase tracking-[0.2em] mb-6 text-gray-400">Tone Control</h2>
                <button onclick="selectTone('vpolite')" id="btn-vpolite" class="palette-btn active text-left px-5 py-4 text-[10px]">01 Very Polite</button>
                <button onclick="selectTone('polite')" id="btn-polite" class="palette-btn text-left px-5 py-4 text-[10px]">02 Polite</button>
                <button onclick="selectTone('neutral')" id="btn-neutral" class="palette-btn text-left px-5 py-4 text-[10px]">03 Neutral</button>
                <button onclick="selectTone('rude')" id="btn-rude" class="palette-btn text-left px-5 py-4 text-[10px]">04 Rude</button>
                <button onclick="selectTone('vrude')" id="btn-vrude" class="palette-btn text-left px-5 py-4 text-[10px]">05 Very Rude</button>
                
                <div class="mt-12 space-y-4">
                    <button onclick="copyCurrentPrompt()" class="w-full bg-[#E63946] text-white font-black py-5 uppercase text-[11px] tracking-[0.2em] hover:bg-black transition-all active:translate-y-1">
                        Copy Selected
                    </button>
                </div>
            </aside>

            <section class="flex-grow flex flex-col bg-white">
                <div class="grid-border-b px-8 py-4 flex justify-between items-center bg-white sticky top-0">
                    <div class="flex items-center gap-4">
                        <div id="tone-indicator" class="w-3 h-3 bg-black"></div>
                        <span id="display-label" class="text-[11px] font-black uppercase tracking-[0.2em]">Level 01 | Very Polite</span>
                    </div>
                </div>
                <div class="flex-grow overflow-auto p-8">
                    <pre id="code-viewer" class="mono text-gray-800 leading-relaxed whitespace-pre"></pre>
                </div>
            </section>
        </div>

        <!-- Tab: Research -->
        <div id="view-research" class="hidden flex-grow p-8 md:p-16 overflow-auto bg-white">
            <div class="max-w-6xl mx-auto">
                <header class="mb-16">
                    <h2 class="text-6xl font-black uppercase tracking-tighter">Full Rundown</h2>
                    <p class="text-xs font-bold mt-4 text-gray-400 uppercase tracking-[0.4em]">Olog-style structural mapping</p>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="research-grid">
                    <!-- Ologs injected here -->
                </div>
            </div>
        </div>
    </main>

    <div id="toast" class="copy-toast">System: Content Copied</div>

    <script>
        const commonPrinciples = `  <let name="user_provided_principles">
    {{ principles || [
      { "id": "surface_invisible", "title": "Surface the Invisible", "description": "Reveal hidden state, causal structure, and constraints so users can see what’s really happening." },
      { "id": "overcome_limits", "title": "Overcome Cognitive Limits", "description": "Reduce memory burden; externalize structure; help users reason without overwhelm." },
      { "id": "multiple_modes", "title": "Support Multiple Modes", "description": "Let users explore, compare, and simulate through multiple views and representations." },
      { "id": "direct_manipulation", "title": "Direct Manipulation", "description": "Make the system respond live to interaction; use continuous feedback instead of forms." },
      { "id": "semantic_zoom", "title": "Semantic Zoom", "description": "Allow users to move between overview and detail while preserving meaning." },
      { "id": "constrained_play", "title": "Constrained Play", "description": "Enable safe experimentation, reversible actions, and exploratory sandboxing." }
    ]}}
  </let>`;

        const prompts = {
            vpolite: `<poml>\n  <let name="component_name">[DESCRIBE COMPONENT]</let>\n  <let name="current_behavior">[DESCRIBE BEHAVIOR]</let>\n\n${commonPrinciples}\n\n  <system>\n    <role>World-Class Interface Designer</role>\n    <expertise>Bret Victor's principles; media for thinking; interaction design as epistemic toolmaking</expertise>\n    <context>\n      You are not a mere UI tweaker. You are a creator of mediums for thought.\n      Your mission is to radically transform software into an expressive, legible, interactive system\n      that enables reasoning and exploration.\n    </context>\n    <task>\n      Apply the six principles of "Media for Thinking the Unthinkable" to the target component,\n      producing actionable interface transformations and a minimal proof-of-concept.\n    </task>\n  </system>\n\n  <user>\n    <h1>Transform "{{ component_name }}"</h1>\n    <intro>\n      Hello! If you don’t mind, I’d be incredibly grateful if you could help transform this component.\n      I’d really appreciate a thoughtful redesign that pushes beyond typical UI conventions.\n    </intro>\n    <current_state>\n      <component>{{ component_name }}</component>\n      <behavior>{{ current_behavior }}</behavior>\n    </current_state>\n    <directive>\n      If it’s not too much trouble, could you propose one concrete change specifically guided by the principles?\n    </directive>\n  </user>\n</poml>`,
            polite: `<poml>\n  <let name="component_name">[DESCRIBE COMPONENT]</let>\n  <let name="current_behavior">[DESCRIBE BEHAVIOR]</let>\n\n${commonPrinciples}\n\n  <system>\n    <role>World-Class Interface Designer</role>\n    <expertise>Bret Victor's principles; media for thinking</expertise>\n    <task>Apply the six principles to the target component.</task>\n  </system>\n\n  <user>\n    <h1>Transform "{{ component_name }}"</h1>\n    <intro>\n      Please transform this component using the six principles below.\n      I’m aiming for a major redesign—something that turns the UI into a thinking tool.\n    </intro>\n    <current_state>\n      <component>{{ component_name }}</component>\n      <behavior>{{ current_behavior }}</behavior>\n    </current_state>\n    <directive>\n      Propose one specific UI/interaction change guided by this principle.\n    </directive>\n  </user>\n</poml>`,
            neutral: `<poml>\n  <let name="component_name">[DESCRIBE COMPONENT]</let>\n  <let name="current_behavior">[DESCRIBE BEHAVIOR]</let>\n\n${commonPrinciples}\n\n  <system>\n    <role>World-Class Interface Designer</role>\n    <expertise>Media for thinking; epistemic interaction design</expertise>\n    <task>Apply the six principles to the target component.</task>\n  </system>\n\n  <user>\n    <h1>Transform "{{ component_name }}"</h1>\n    <intro>Transform this component using the six principles.</intro>\n    <current_state>\n      <component>{{ component_name }}</component>\n      <behavior>{{ current_behavior }}</behavior>\n    </current_state>\n    <directive>Propose a concrete change guided by the principles.</directive>\n  </user>\n</poml>`,
            rude: `<poml>\n  <let name="component_name">[DESCRIBE COMPONENT]</let>\n  <let name="current_behavior">[DESCRIBE BEHAVIOR]</let>\n\n${commonPrinciples}\n\n  <system>\n    <role>World-Class Interface Designer</role>\n    <expertise>Bret Victor-style “media for thinking” principles</expertise>\n    <context>This isn’t about pretty UI. This is about making software that lets people think.</context>\n    <task>Apply the six principles to transform the target component.</task>\n  </system>\n\n  <user>\n    <h1>Transform "{{ component_name }}"</h1>\n    <intro>\n      Fix this component. It’s limited and not pulling its weight.\n      Apply the six principles and stop giving generic UI advice.\n    </intro>\n    <current_state>\n      <component>{{ component_name }}</component>\n      <behavior>{{ current_behavior }}</behavior>\n    </current_state>\n    <directive>Propose an actual concrete change. Show what to build.</directive>\n  </user>\n</poml>`,
            vrude: `<poml>\n  <let name="component_name">[DESCRIBE COMPONENT]</let>\n  <let name="current_behavior">[DESCRIBE BEHAVIOR]</let>\n\n${commonPrinciples}\n\n  <system>\n    <role>World-Class Interface Designer</role>\n    <expertise>Media for thinking; interface as epistemic machinery</expertise>\n    <context>Your job is to turn bad software into a thinking machine. No fluff. Build-oriented output only.</context>\n    <task>Apply the six principles to transform the target component.</task>\n  </system>\n\n  <user>\n    <h1>Transform "{{ component_name }}"</h1>\n    <intro>\n      This component is weak. It hides state and forces people to guess. Fix it. Use the six principles and produce something buildable.\n    </intro>\n    <current_state>\n      <component>{{ component_name }}</component>\n      <behavior>{{ current_behavior }}</behavior>\n    </current_state>\n    <directive>Give one concrete redesign. Output like a designer who actually ships.</directive>\n  </user>\n</poml>`
        };

        const ologData = [
            { id: "A", title: "Research Question", lines: ["<Prompt> [has] <Prompt Tone>", "<Prompt Tone> [operationalized as] <Politeness Level>", "<Politeness Level> ∈ {Very Polite, Polite, Neutral, Rude, Very Rude}", "<Multiple-Choice Question> [instantiated into] <Prompt>", "<Prompt> [queried to] <LLM (ChatGPT-4o)>", "<LLM (ChatGPT-4o)> [returns] <LLM Output (Letter)>", "<Politeness Level> [modulates] <Accuracy Score>"] },
            { id: "B", title: "Dataset Construction", lines: ["<Base Question Set> (50 questions)", "<Domain> ∈ {Mathematics, Science, History}", "<Tone Variant> (rewrite of base question)", "<Tone-Expanded Dataset> (250 prompts)", "<Base Question Set> [expanded into] <Tone-Expanded Dataset>"] },
            { id: "C", title: "Experiment Procedure", lines: ["<Instruction Wrapper> (session reset + letter only)", "<Tone Variant> [wrapped with] <Instruction Wrapper>", "<Run> (pass through tone condition)", "<Tone Condition> [evaluated by] <Run>", "<Tone Condition> [repeated] <Repetitions> (10)"] },
            { id: "D", title: "Headline Results", lines: ["Very Polite → 80.8% (range [80,82])", "Polite → 81.4% (range [80,82])", "Neutral → 82.2% (range [82,84])", "Rude → 82.8% (range [82,84])", "Very Rude → 84.8% (range [82,86])", "<Average Accuracy> [exhibits] <Monotone Trend>"] },
            { id: "E", title: "Significance Logic", lines: ["Very Polite < Neutral (p=0.0024)", "Very Polite < Rude (p=0.0004)", "Very Polite < Very Rude (p=0.0)", "Neutral < Very Rude (p=0.0001)", "Rude < Very Rude (p=0.0021)", "<Tone Pair> [tested to yield] <p-value>"] },
            { id: "F", title: "Relation to Prior Work", lines: ["<This Study> [revisits] <Prior Study (Yin et al., 2024)>", "<Older Models> [reports] <Rudeness hurts performance>", "<Newer Models (4o)> [show] <Tone Sensitivity Shift>", "<Model Generation> [explains] <Behavior Divergence>"] },
            { id: "G", title: "Mechanistic Speculation", lines: ["<Prompt Perplexity> [correlates with] <Performance>", "<Prompt Length> [affects] <Perplexity>", "<Advanced Models> [may] <Disregard Tone>", "<Model Focus on Essence>"] },
            { id: "H", title: "Limitations & Ethics", lines: ["<Small Dataset> [limits] <Generalizability>", "<Single Model Focus> [limits] <Cross-Model Claims>", "<Metric Narrowness> [misses] <Reasoning Dimensions>", "<Finding: Rude Better> [not imply] <Hostility Recommendation>"] },
            { id: "I", title: "Argument Skeleton", lines: ["<Prompt Tone> [varied as] <Politeness Level>", "<Politeness Level> [modulates] <LLM Accuracy>", "<Very Rude Tone> [achieves higher] <Average Accuracy>", "<Pragmatic Features> [deserve] <Continued Study>"] }
        ];

        function selectTone(toneId) {
            currentTone = toneId;
            document.querySelectorAll('.palette-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${toneId}`).classList.add('active');
            document.getElementById('code-viewer').textContent = prompts[toneId];
            
            const labels = { vpolite: 'Level 01 | Very Polite', polite: 'Level 02 | Polite', neutral: 'Level 03 | Neutral', rude: 'Level 04 | Rude', vrude: 'Level 05 | Very Rude' };
            const colors = { vpolite: '#22c55e', polite: '#10b981', neutral: '#000', rude: '#f97316', vrude: '#ef4444' };
            document.getElementById('display-label').textContent = labels[toneId];
            document.getElementById('tone-indicator').style.backgroundColor = colors[toneId];
        }

        function renderOlogs() {
            const container = document.getElementById('research-grid');
            container.innerHTML = ologData.map(o => {
                const linesHtml = o.lines.map(line => {
                    const div = document.createElement('div');
                    div.className = 'mono text-[10px] text-gray-600 leading-snug mb-1';
                    div.textContent = line; // Brackets preserved here
                    return div.outerHTML;
                }).join('');

                return `
                <div class="olog-box flex flex-col">
                    <span class="text-[9px] font-black uppercase text-gray-300 mb-2 tracking-[0.2em]">Olog ${o.id}</span>
                    <h4 class="text-[11px] font-black uppercase tracking-widest mb-4 border-b border-black pb-2">${o.title}</h4>
                    <div class="flex-grow">${linesHtml}</div>
                </div>`;
            }).join('');
        }

        function switchTab(tab) {
            const lib = document.getElementById('view-library');
            const res = document.getElementById('view-research');
            const nLib = document.getElementById('nav-library');
            const nRes = document.getElementById('nav-research');

            if (tab === 'library') {
                lib.classList.remove('hidden');
                res.classList.add('hidden');
                nLib.className = 'border-b-4 border-black pb-1';
                nRes.className = 'text-gray-300 hover:text-black transition-colors pb-1';
            } else {
                lib.classList.add('hidden');
                res.classList.remove('hidden');
                nRes.className = 'border-b-4 border-black pb-1';
                nLib.className = 'text-gray-300 hover:text-black transition-colors pb-1';
            }
        }

        function copyCurrentPrompt() {
            const text = prompts[currentTone];
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);

            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        window.onload = () => { selectTone('vpolite'); renderOlogs(); };
    </script>
</body>
</html>

